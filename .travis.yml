language: python

python:
  - "3.7"

# blocklist
branches:
  except:
  - master

# safelist
branches:
  only:
  - af/acq_param_ci
  
install:
  - git clone https://github.com/spine-generic/spine-generic.git
  - cd spine-generic/
  - git checkout af/acq_param_ci
  - pip install -e .
  - source ~/virtualenv/python3.7/bin/activate
  - cd ..
  - npm install -g bids-validator
  - bids-validator ./

script: 
  - sg_params_checker -path-in ./
